# 🚀 1단계 - 테스트를 통한 코드 보호

## 용어 사전

[바로가기](../README.md)

## 비즈니스 요구 사항

1. **상품**
   - 상품을 추가한다.
     - 추가할 땐 `이름`, `가격`을 지정해야한다.
     - 상품의 `가격은 0원 이상`이어야 한다.
   - 상품을 모두 조회한다.

2. **메뉴 그룹**
   - 메뉴 그룹을 추가한다.
     - 추가할 땐 `이름`을 지정해야한다.
   - 메뉴 그룹을 모두 조회한다.

3. **메뉴**
   - 메뉴를 추가한다.
     - 추가할 땐 `이름`, `가격`, `속할 그룹`, `상품들의 이름, 가격, 갯수`를 지정해야한다.
     - 속한 메뉴 그룹이 존재해야한다.
     - 속할 상품들의 정보를 조회하여 메뉴의 가격과 상품들의 가격*갯수=총가격을 비교한다.
       - 메뉴의 가격이 개별 상품의 가격 총합보다 비쌀 수 없다.
     - 상품의 갯수와 가격을 갖고 있는 `메뉴 상품`을 저장한다.
   - 메뉴를 모두 조회한다.

4. **주문**
   - 주문을 추가한다.
     - 추가할 땐 `메뉴`, `메뉴 수량`, `주문 테이블`을 지정해야한다.
     - 주문 불가능 상태일 경우 예약할 수 없다.
   - 주문을 모두 조회한다.
   - 특정 주문의 상태를 변경한다.
     - 주문 완료 상태인 경우 변경할 수 없다.
     - 주문 상태는 총 3가지로 `COOKING`, `MEAL`, `COMPLETION`로 변경할 수 있다.

5. **주문 테이블**
   - 주문 테이블을 추가한다.
     - 추가할 땐 `인원수`, `주문을 받을 수 있는 상태`를 지정한다.
   - 주문 테이블을 모두 조회한다.
   - 특정 주문 테이블의 상태를 변경한다.
     - 테이블의 주문 상태가 `계산 완료`가 아니면 테이블 상태를 변경할 수 없다.
     - `empty` 속성의 `false` 상태는 주문 가능 상태이다.
     - `empty` 속성의 `true` 상태는 주문 불가능 상태이다.
   - 특정 테이블의 인원 수를 예약한다.
     - 주문 불가능 상태일 경우 예약할 수 없다.
     - 인원 수가 0명 이상이어야 한다.

6. **테이블 그룹**
   - 테이블 그룹을 추가한다.
     - 추가할 땐 `주문 테이블`을 지정해야한다.
     - 주문 테이블이 2개 이상이어야 한다.
     - 주문 테이블이 존재하는지 확인한다.
     - 주문 테이블은 주문 불가능 상태여야만 한다.
     - 다른 주문 테이블 그룹에 속하지 않아야만 한다.
   - 특정 테이블 그룹을 삭제한다.
     - 속한 주문 테이블 중 `COOKING`, `MEAL` 상태이면 삭제할 수 없다.

## 도메인 관계

1. 상품
   - X

2. 메뉴 그룹
   - X

3. 메뉴
   - 메뉴 상품 - 직접
   - 메뉴 그룹 - 간접

4. 주문
   - 주문 상품들(메뉴, 수량) - 직접
   - 주문 테이블 - 간접
  
5. 주문 테이블
   - 테이블 그룹 - 간접

6. 테이블 그룹
   - 주문 테이블 - 직접
